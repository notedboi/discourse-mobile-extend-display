<script type="text/x-handlebars" data-template-name="list/posts-count-column.hbr">
  <div class='num posts-map posts {{view.likesHeat}}' title='{{view.title}}'>
    <button class="btn-link posts-map badge-posts {{view.likesHeat}}">
      {{raw-plugin-outlet name="topic-list-before-reply-count"}}

      {{#if (theme-setting 'allow_user_setting')}}
      <strong>{{ theme-setting 'user_field' }}</strong>
      <strong>{{ currentUser.custom_fields.user_field_6 }}</strong>
      <strong>{{currentUser.custom_fields.[(theme-setting 'user_field')]}}</strong>
          {{#if currentUser.custom_fields.[(theme-setting 'user_field')]}}
            {{#if topic.like_count}}
           
              {{d-icon (theme-setting 'like_icon') }} 
              {{number topic.like_count noTitle="true" ariaLabel=view.title}}
            {{/if}}
          {{/if}}
        {{else}}
          {{#if (theme-setting 'display_like_count')  }}
            {{#if topic.like_count}}
              {{d-icon (theme-setting 'like_icon') }} 
              {{number topic.like_count noTitle="true" ariaLabel=view.title}}
            {{/if}}
          {{/if}}
      {{/if}}
      {{#if (theme-setting 'display_reply_count') }}
        {{#if topic.replyCount}}
          {{d-icon (theme-setting 'reply_icon') }}
          {{number topic.replyCount noTitle="true" ariaLabel=view.title}}
        {{/if}}
      {{/if}}
    </button>
  </div>
</script>




<script type="text/x-handlebars" data-template-name="list/topic-list-item.hbr">


  {{~raw-plugin-outlet name="topic-list-before-columns"}}

  {{#if bulkSelectEnabled}}
    <td class="bulk-select topic-list-data">
      <label for="bulk-select-{{topic.id}}">
        <input type="checkbox" class="bulk-select" id="bulk-select-{{topic.id}}">
      </label>
    </td>
  {{/if}}
  
  {{!--
    The `~` syntax strip spaces between the elements, making it produce
    `<a class=topic-post-badges>Some text</a><span class=topic-post-badges>`,
    with no space between them.
    This causes the topic-post-badge to be considered the same word as "text"
    at the end of the link, preventing it from line wrapping onto its own line.
  --}}
  <td class='main-link clearfix topic-list-data' colspan="1">
    {{~raw-plugin-outlet name="topic-list-before-link"}}
    <span class='link-top-line'>
      {{~raw-plugin-outlet name="topic-list-before-status"}}
      {{~raw "topic-status" topic=topic}}
      {{~topic-link topic class="raw-link raw-topic-link"}}
      {{~#if topic.featured_link}}
        {{~topic-featured-link topic}}
      {{~/if}}
      {{~raw-plugin-outlet name="topic-list-after-title"}}
      {{~raw "list/unread-indicator" includeUnreadIndicator=includeUnreadIndicator
                                     topicId=topic.id
                                     unreadClass=unreadClass~}}
      {{~#if showTopicPostBadges}}
        {{~raw "topic-post-badges" unreadPosts=topic.unread_posts unseen=topic.unseen url=topic.lastUnreadUrl newDotText=newDotText}}
      {{~/if}}
    </span>
    <div class="link-bottom-line">
      {{#unless hideCategory}}
        {{#unless topic.isPinnedUncategorized}}
          {{~raw-plugin-outlet name="topic-list-before-category"}}
          {{category-link topic.category}}
        {{/unless}}
      {{/unless}}
      {{discourse-tags topic mode="list" tagsForUser=tagsForUser}}
      {{raw "list/action-list" topic=topic postNumbers=topic.liked_post_numbers className="likes" icon="heart"}}
    </div>
    {{#if expandPinned}}
      {{raw "list/topic-excerpt" topic=topic}}
    {{/if}}
  </td>
  
  {{#if showPosters}}
    {{raw "list/posters-column" posters=topic.featuredUsers}}
  {{/if}}
  
  {{raw "list/posts-count-column" topic=topic user=currentUser}}
  
  {{#if showLikes}}
    <td class="num likes topic-list-data">
      {{#if hasLikes}}
        <a href='{{topic.summaryUrl}}'>
          {{number topic.like_count}} {{d-icon "heart"}}
        </a>
      {{/if}}
    </td>
  {{/if}}
  
  {{#if showOpLikes}}
    <td class="num likes">
      {{#if hasOpLikes}}
        <a href='{{topic.summaryUrl}}'>
          {{number topic.op_like_count}} {{d-icon "heart"}}
        </a>
      {{/if}}
    </td>
  {{/if}}
  
  <td class="num views {{topic.viewsHeat}} topic-list-data">
    {{raw-plugin-outlet name="topic-list-before-view-count"}}
    {{number topic.views numberKey="views_long"}}
  </td>
  
  {{raw "list/activity-column" topic=topic class="num topic-list-data" tagName="td"}} 

</script>